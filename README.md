# Nightmare
In this repository, I am creating my first 2D rpg game in Unity, Nightmare. Play the latest prototype of the game [here](https://zioul123.github.io/nightmare-prototype/Hosting/Sandbox-enemy-no-movement/)

# Overview
## Theme
- This game is a 2D RPG with a mild horror theme; the player takes the form of a Nightmare (a witch who haunts people's dreams), who channels the power of 7 Legendary Nightmares to face against the Nightmare Hunter.

## Core Gameplay Mechanics Brief
- Battle: The player can shoot bolts of energy at single enemies, or melee with AOE attacks.
- Phase shift: The player can turn incorporeal for short periods of time to phase through thin walls.
- Channel Nightmare: Call upon the spirit a Legendary Nightmare to borrow their powers, with cooldowns to change spirits.

## Targeted platform
- This will be created in Unity, to be distributed as a web RPG game.

## Influences
- Theme: Dreamcatcher Lore
  - The purpose of this game is ultimately a fan game based on the Idol Group, 드림캐쳐's Nightmare storyline.
  - In the lore, 7 girls were transformed into Nightmares after one burned a cursed spider, after which they proceed to haunt the home in which they lived. A nightmare hunter attempts to capture them, but they successfully trap him in a mirror, and steal his magic book at the same time. They escape their home, losing his book in the process, and live as photographers/photo developers, haunting the dreams of those whom they photograph, but eventually, the one who burnt the spider is attacked by a witch, and left in a vegetative state, her soul presumably left in another realm.
  - The story takes off with Somnia (the player) coming into contact with the magical book, and losing her soul to become a Nightmare.
- Gameplay: Megaman 
  - The mechanics will be very similar to Megaman; a platformer with a default attack, but with the ability to use the abilities of foes fought before.
  - A difference is that Legendary Nightmare Powers will be unlocked as the game progresses, so that the player can learn to use them as the game progresses, and the specific spirits can be levelled up.
  
## Elevator Pitch
Todo.

## Project Description (Detailed)
Todo.

# What Sets this Apart
## Core Gameplay Mechanics (Detailed)
- There are two modes, arcade survival mode and story mode. 
  - Story mode:
    - The player goes through a series of levels as they unlock the power of Legendary Nightmares and discover the dark secrets behind the dream world, leading up to their battle against the Nightmare Hunter.
  - Arcade mode:
    - The player fights off waves of enemies of increasing difficulty until they are defeated. 
- Battle:
  - The player can shoot bolts of energy at single enemies
  - The player can use their staff and melee nearby enemies in the aoe around them.
- Phase shift: The player can turn incorporeal to phase through thin walls.
- Channel Nightmare: Call upon the spirit a Legendary Nightmare to borrow their powers, with cooldowns to change spirits.
  - Legendary Nightmare Powers
    - 지듀: Chaser - Increased movement speed, teleportation.
    - 수아: Paralyser - Curse a single enemy and restrict their movement with ghostly hands.
    - 시연: Captor - Curse an area to trap those within it in a mirror.
    - 한동: Stalker - Increased awareness of enemies - deal area damage to foes, and foes deal decreased damage.
    - 유현: Mesmer - Enemies in an area lose sense of left and right, going in the opposite direction intended.
    - 다미: Agoniser - Significantly increased damage against foes.
    - 가현: Cascader - Cause a single enemy to teleport to a height and plummet to the ground, dealing damage and crowd control.

# Story and Gameplay
## Story (Detailed)
### Introduction
This world is 1600-esque. Somnia is a servant girl working for a nobleman, and has always been fascinated by stories about the supernatural, and reads everything she can get her hands on. One day, she was going through the woods to run an errand for her master, and came across a black book on the floor. She picked it up, but having no magic affinity, immediately got overwhelmed as the dream energy flowed into her body, and she turned into a Nightmare mage. Dream energy was a kind of magic that could be used depending on one's affinity towards dreams. The stronger one's dreams, the stronger their ability to control dream energy. Somnia was a huge dreamer, and this form of energy could course through her, and controlling it came as second nature to her. 

Somnia awakens to the sound of many footsteps. "A Nightmare mage!" one exclaimed, as the two nightmare mages, Alyan and Nehkaam ran toward her to assist her up, and continued running. "Why are we running?" to which she found out that they were fleeing from a Nightmare Hunter - one who kills nightmare mages. The hunter closes too much distance, and Nehkaam uses his power to teleport the Somnia and Alyan to a house, as he is killed.

Alyan asks what she was doing, and she explains what happened. She then finds out the situation from the other mage - the hunter had killed off his guild, and would be extremely powerful, so they needed to stop him. She didn't want to kill, but if she didn't hunt him, he'd hunt her down. Alyan explains that with his eyes he sees that her potential far surpassed anyone in the guild, implying that she was a great dreamer, but she needed to fulfill that potential. He teaches her to channel the power of the Legendary Nightmares, an art only available to those with great potential; Nekhaam was the last to be able to. She is able to, but only weakly. He suggests that she goes to find relics of Legendary Nightmares to borrow their power to fight against the Nightmare Hunter.

Somnia travels to locations where relics can be found, and will talk to the Legends, learn their stories, and face them to earn their blessing (curse) of power, to face the Nightmare Hunter.

### Bedroom - Cascader's Bed (End at level 3)
Cascader was transformed as she was sleeping, can't remember much, will give you power to fight straight away.

Somnia learns that Nightmares mages can continue to live their lives as normal. She had been living as a photograph developer. But getting dream energy from others feels exhilirating.

### The Library - Agoniser's Book (End at level 6)
Agoniser turned as she was reading and let the power flow through her; something changed that day, like the books were given life. Challenges you to a battle, as she believes you need power to deserve her blessing.

Somnia learns that people can be transformed into nightmare mages involuntarily, or volutarily by association with dark magic books, as long as they had dream power. 

### The Forest - Paralyser, Captor's Bunny (End at level 9)
They felt the sudden urge to leave and enter the forest, and when they came back they hard already turned. Challenges you to fight, itching for battle since they turned.

Somnia learns that there are spirit animals, familiars, which mages use. They can be used for intelligence gathering. The day that the spider was burnt was the day that a mage came and corrupted them. Why the mage did that is unclear to them, but Somnia realises that she shouldn't go around randomly killing forest animals. This is after killing a bunch of giant spiders to get there.

### Garden - Stalker's Paper Plane (End at level 12)
One day in the bath, someone broke in and turned her. the fear still exists in her. Haunting dreams is a great way for escapism, the thrill makes her feel alive again, but she always feels the need to just hang around, lifelessly, the way she was as she was turned. Somnia comforts her and she gives her blessing.

### Beach - Chaser's Spirit Butterfly Familiar (End at level 15)
The one who was transformed last of the seven, and held the gates to prevent others from being haunted. Tried to save Mesmer but was unsuccessful. Knows that nobody becomes a nightmare on their own accord, and gives Somnia her blessing.

Somnia learns that even though they continue to live as normal people, they slowly lose their humanity, nightmarish urges overcome them, and they corrupt more people. Sure, there's powers, but you can't die normally anymore, you can't dream normally anymore, things that make you human are taken away. 

### Dreamworld of the Spider - Mesmer's Mirror (End at level 18 - all maxed)
Where Mesmer was trapped by the spider woman. To earn her blessing, Somnia fights against the Spider Witch who trapped her there.

Somnia learns that nightmare mages can curse one another into the dreamworld, and unless they are brought back by someone on the outside within 1 day, they are lost to the dreamworld forever. She also asks that Somnia send her regards to the others.

### Nightmare Hunter's Hotel Room (Fight at level 20)
The headquarters of the Nightmare Hunter. 

### Magic System Explanation
Magic has two types - physical and dream. All magic is underground, but the lost book brought her to the world of dream magic.
Physical magic dealt with elements, fire, earth, water and air, while dream energy dealt with thoughts, dark and light.

Dream energy comes from dreams, while physical magic comes from affinity with the elements. Fire wizards would go to environments such as volcanoes or deserts to increase their powers, while dream mages would draw energy by harvesting dreams. Dream mages hop from dream to dream to gather power. Light dream mages exist, but due to negativity in the world, their power is generally weaker, as there are not many sweet dreams to draw power from. Nightmare energy is a dark form of dream energy, that comes from people's nightmares. 

Hunters exist - hunters kill mages to gather their magic affinity for themselves. 

## Gameplay (Detailed)
Todo.
The game is a 2d platformer, where the focus of the battle mechanics is shifting between Legends of suitable powers to defeat foes. Towards the end of the story, combinations of enemies will only be defeatable using suitable combinations of legends.

### Player
The player is Somnia.

#### Levelling
By going through maps, Somnia levels up at a deterministic rate, regardless of monsters killed. In other words, getting through entirely pacifist with Chaser is possible. The maximum combat level is 20. At every combat level, you earn dream points to level up one of the Legend's powers, but levelling any Legends to level 2 will require combat level 5, and level 3 will require combat level 10. All Legends will be maxed out when Somnia faces the Nightmare Hunter. At level 0, Legends are still useable.

At level 1, Somnia has 100hp, 50mp, 2hp/s regen, 5mp/s regen, deals 30dmg. Every level gives Somnia an additional 10hp and 5mp, 0.2hp/s and 0.5mp/s, 10dmg, for a total of 300hp and 150mp when facing the Nightmare Hunter.

At level 7, Somnia unlocks the ability to invoke two legends at once. Every subsequent invocation overrides the invocation that was first called.

At level 12, Somnia can invoke three legends at once.

#### Skill trees:
There are two classes of Legends, self buff and crowd control classes. Self buff classes have 3 levels, while crowd controllers have 2 levels.

Of the self buff classes, Chaser is made for movement speed. Stalker is used for large numbers of enemies. Agoniser is for high HP targets.

- Chaser
  - 0: Move 1.5x as fast
  - 1: Move 2x as fast
  - 2: Teleport unlocked (10mp) (Special 1)
  - 3: Dimensional phase (40mp) (Special 2)
- Stalker
  - 0: Able to attack all enemies within 100 aoe (10mp) (Special 1), and 20% damage resistance. 
  - 1: Able to attack all enemies within 200 aoe (15mp) (Special 1), and 20% damage resistance.
  - 2: Able to attack all enemies within 200 aoe (20mp) (Special 1), and 30% damage resistance.
  - 3: Able to attack all enemies on the map (25mp) (Special 1), and 20% damage resistance.
- Agoniser
  - 0: 100% bonus damage.
  - 1: 125% bonus damage, 10% crit for extra 100% bonus damage.
  - 2: 150% bonus damage, 15% crit for extra 120% bonus damage.
  - 3: 175% bonus damage, 20% crit for extra 150% bonus damage.

Of the crowd controllers, each has a different niche. Paralyser has the longest hold time, preventing attacks, but on a single target. Captor holds all enemies in an aoe, making it better for many monsters, but they can continue to use melee attacks. Mesmer is a different CC, repelling enemies from the character, which has a niche for getting through areas; cooldown and MP costs are greater. Cascader is used to get past areas, but does not prevent ranged attackers from attacking, so it's good against melee but weak against ranged. It's also specialized in that it can trap enemies in the map.

- Paralyser
  - 0: Hold single enemy for 2s (10mp)
  - 1: Hold single enemy for 4s (15mp)
  - 2: Hold single enemy for 6s (25mp)
- Captor
  - 0: Hold all enemies in a 100 aoe for 1s (10mp)
  - 1: Hold all enemies in a 200 aoe for 2s (15mp)
  - 2: Hold all enemies on the map for 3s (25mp)
- Mesmer
  - 0: Confuse a single enemy for 1s (15mp)
  - 1: Confuse a single enemy for 2s (30mp)
  - 2: Confuse all enemies in 200 aoe for 3s (50mp)
- Cascader
  - 0: Teleport all enemies in a 100 aoe to a height, drop for 0.5s and deal damage. (15mp)
  - 1: Teleport all enemies in a 200 aoe to a height, drop for 1s and deal damage. (25mp)
  - 2: Teleport all enemies on the map to a height, drop for 1.5s and deal damage. (40mp)

### Enemies
#### Minion
A corrupted nightmare. The Basic Minion of the Nightmare Hunter.

#### Giant Spider
Just a giant spider found in the forest.

#### Greater Minion
Basic Minion with higher HP and deals more damage.

#### Ranged Minion
Basic minion with ranged attack.

#### Heavy Minion
A Greater Minion that's immune to Cascader and Paralyser's powers.

#### Blind Minion
A Greater Minion that's immune to Mesmer and Captor's powers.

#### Light Minion
A Basic Minion with increased movement speed, hunt in packs.

#### Elite Minion
A nightmare that deals extremely high ranged damage; crowd control is necessary.

# Assets Needed
## 2D
Todo.
- Sprites
  - Somnia (Main character) 
    - Sprite Sheets
    - Face for speech
  - 7 x Legendary Nightmare 
    - Sprite Sheets 
  - Nightmare Hunter
    - Sprite Sheets
    - Face for Speech
  - Minions
    - Normal Minion
    - Heavy Minion 
- Map tiles
  - House theme (Initial) (FH)
  - Hotel theme (Searching for nightmares) (CM)
  - Jungle theme (GN)
  - Lair of Nightmare Hunter (UnI)

## Sound
Todo.
- Midi BGM
- Character sounds
  - Attack
  - Damaged
  - Death
- Minion sounds
  - Aggression
  - Attack
  - Damaged
  - Death

## Code
Todo.

## Animation
Todo.

# Release Plan
## v0.1 - Simple Mechanics
- Player has 4 attack skills + melee
- Autotargetting of closest enemy
- Enemies move and attack player
- Enemy selection circles
- Enemy HP bars fade over time and appear on damage

## v0.2 - Extended Mechanics
- Player has 7 skills
  - 4 attack modes + melee
  - 3 crowd control skills
- Ranged enemies

## v0.3 - Simple Game 
- Start menu
- Saving
- Multiple kinds of enemies
- Damage balancing

## v0.4 - Levelling mechanics
- EXP system up
- Skills can be levelled up

## v0.5 - World navigation
- Basic world map up
- World levels

# Credits
This document is based on [Alec Markarian and Benjamin Stanley's GDD Template](https://docs.google.com/document/d/1-I08qX76DgSFyN1ByIGtPuqXh7bVKraHcNIA25tpAzE/edit).
